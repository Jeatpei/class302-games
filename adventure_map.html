<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ÂÇëÁâπ‰Ω©Â§ßÂÜíÈö™ÔºöÊôÇÁ©∫Á©øË∂äËÄÖ (V28 ÁµÇÊ•µÁâà)</title>
    <style>
        :root { --locked: #444; --unlocked: #29b6f6; --cleared: #fbc02d; }
        body { font-family: 'ÂæÆËªüÊ≠£ÈªëÈ´î', sans-serif; margin: 0; padding: 0; background: #111; color: white; user-select: none; overflow: hidden; }

        /* === üó∫Ô∏è Âú∞ÂúñË¶ñÁ™ó === */
        #map-viewport {
            width: 100%; height: 100vh; overflow-y: auto; overflow-x: hidden;
            position: relative; scroll-behavior: smooth; padding-bottom: 80px; background: #000;
        }

        /* === üåç ‰∫îÂ§ß‰∏ñÁïåËÉåÊôØ (V28 Base64 ÂÖßÂµåÁâà - ÁµïÂ∞ç‰∏çÊúÉÁ†¥Âúñ) === */
        .zone {
            position: absolute; width: 100%; height: 700px; left: 0; z-index: 0;
            background-size: cover; background-position: center;
            border-top: 5px solid rgba(0,0,0,0.5);
            /* ÈªëËâ≤ÈÅÆÁΩ©ÔºåÁ¢∫‰øùÊñáÂ≠óÂèØËÆÄ */
            box-shadow: inset 0 0 0 1000px rgba(0,0,0,0.3);
        }
        
        /* World 1: Ëø∑ÈúßÊ£ÆÊûó */
        .zone-1 { 
            top: 2800px;
            /* ÂÖßÂµåÂúñÁâá‰ª£Á¢º */
            background-image: url('data:image/jpeg;base64,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'); 
        }
        
        /* World 2: ÁÉàÊó•Ê≤ôÊº† */
        .zone-2 { 
            top: 2100px;
            /* ÂÖßÂµåÂúñÁâá‰ª£Á¢º */
            background-image: url('data:image/jpeg;base64,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'); 
        }
        
        /* World 2: ÁÉàÊó•Ê≤ôÊº† */
        .zone-2 { 
            top: 2100px; 
            /* ÂÖßÂµåÂúñÁâá‰ª£Á¢º */
            background-image: url('data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD84QzQ5Ojf/2wBDAQoKCg0MDRoPDxo3JR8lNzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzf/wAARCACwAT4DASIAAhEBAxEB/8QAGwAAAgMBAQEAAAAAAAAAAAAAAwQBAgUABgf/xAA+EAACAQMDAgQDBgUDAwMFAAABAgADESEEEjFBUQUTImEycYGRBhQjobFSYsHRM0Jy4RUkgpLC8PEWVYP/xAAaAQADAQEBAQAAAAAAAAAAAAAAAQIDBAUG/8QAKBEAAgICAgEEAgEFAAAAAAAAAAECEQMhEjFBBCJRcRNhMkKBkaGx/9oADAMBAAIRAxEAPwDza05YJDBZcLPSs8wWCRa0zDUrKFY0wF/LgmnGisqViaF2RXlRTLhIxRo3N7Sw0h6R8UiIto+yK8sKcaGkPSe+6J+6R/zIfzI+YgE1E1E1E01ENiCIIE0IExE0IEXFCEQQgE1E2IgM20zEi7TLAQoA20zEi62m2x0KAV2zNsayzLTbI6FYrsmhYwVlSsdBYuywLLGCJUrHQWLESoWMEQNQhRk8hF0BfUpj5zmvFa6/e2pAkEKL4+R/tOtZKdJC+oYKg5Y/pOH1B0lTXs9JndnONw9PT9Zz5ZdI6vTxu2K0tK7I1XaoRTbJ5lDQQfFVRR15P6ToNPRG1S4G0XtYcYg309JSSVUZ6icvI7rE0aWnFz+K/wAhtH94S5GBSQfM3/WBq63Taf8A5lVVPQcn8pmj4jQrPtp06h9yAB/eH7H+h1H/ANVP/wCr/wB5sy0zF+hP5v8A3my6IswCXLACZabE202JhFgNplpk2FjAWMUkF4tFqY1RoXwNlWjoUyy6eW2EItTEqsaCSoSGFOWFOAFAs2IYU5YJDQCsE1IfZLCnANixEzbD+XNFOAArKkQ/lmbDCgFtK2jOybZABbbNtDNsuBCAJ2SjLHNsC0dBYoVlCsZKyouJ0FipWUKx0FirLKlYwVlSsdBYsVlSIs+q09EkPUW45AyR+UVq+LqPgrU7d3G39YnJLsapvoDrdIuqCq5YBeAIGjo9NplO2kPckXJ/OB/+WpMbJUp1G7I4P6TWr5A8tr9BgXk7dmir6Gk1HkoA9MD2tK1azN6Qo+X/uKq9drMKTn6Rikj1B/y7fMyWUi1+qU7A7lB9lEYXSN5l/p0nQeD/g+v4hR86pVp0KTC6ll3MfcC/E6Afsz8PA9Wt1RPsFA/tLUJPolzS7Z5F9Uq8B2P5QDarUO1gqg9eTPav+Hnh/89zqv0/tN/wD474f/APc6r9P7SvxS+Cfxw+TxWnrNRc3dHsOBi86Gj8Q0xTAr0339SgBEf8c8F0/g9FKi6ipV3ttCsoHTmczzYtT1tF+K9M4W25U5/l/tBpx7JdPo6L/1zSf+b/8AQzZzvNf/ADG/ITIcxUTbTbSwE202MxXbNtLYmR0FitkzbQ0yIDFbJtkbYmR0KxbZKlI1slSkdCsV2TNkZKRbyh+Y2hXbNCQ3l/zS4T5wFYtsmhIZrc3mY9z+s2z/AHmArB7JoywJ85e35zB/a/5QFYvbK7Y5s9r/AJTNn+8RWKhZn4i5qsqqBckm1hD6itR0y7q1RUHubXnF+N+LpWp+TprlCbudtr9re0iUqNYQcuhjX+O6XSErpwK9TuPhH94vS/EupqJt8qigI+ILc/rOQr6g06d1sXJsBGvD6xI2uBu6WnHk9W1Kkenj9FFr3HUPW0tR970w7nksB/eT54QfhU0Qe1riIox4JmyOJl/kTl2UvR449IfGrq29W39I1pK1R6g3NlTde/8Av5TlK2oag4Jv5Z6jp7zoPDtTSdAVcMByQby45LvZOTBGKo61a5dLt8XVYxpuDvcj/Sv9zOdXVqCCG59o1S1Q27mbntL5HK8Z06avaptsQW5C5/Myra305qMfds/znNrrSWAByTxGrd936xrIweJHRJraDqS7+n/b+8T1PilCkCL7iPecn41X1FBFp6b07gSXBz8hOTatWq1PLUuzE2tc3Jj/ACNdBHAn2d9V8c07aZzUqLTU8hmAnB67xOnUrMaO6oT/AMw4H5dYFfD9RVYecwGPhGf1h6Xh1Km34lyf5TIdyNHGMRCmup1LBX9I6W4jS6jR39RUn/aYo1FEr/gH1FucRerpdO1P00h7Hj+8fESkdD52h/zD85k5T/Dp/I36zIfjDkzsQJoEGom56R5wNptoaZK0YgNptoaZHR2B2zNoctMjoVgNkqUjBEqu2OhWAlYpW1lKjU2FtzHkDp9Y1qC/lP5QBec7VoamrVZqgG8/y9B0GZlkk10b4YJ9j9fXtS04qUwjEn4b3t+UCviVY0t+xTj4QDf/AM/WKoH09EioD6W3C/QdJpZq9LdTsM+pL5/KZ3JmrhFDQ8U1H8icXwDKnxV0/wD7KQH+7H6xcrtp2uCPbn8ojUpkAsouR3hckHCHwb+r12H4IFr/AMp/vCjxSogAq0zcc7M3nPLVq029LMAO/EPT1IfleOMYnKaK4QZ0lDXZBqIVccKwsTHaVZa67lsD1U8icxSqAjj1e/Bjmn1L0nDW44K9R7S45HezOeFVaOiCe36S4SDRwyBhkEAgw6zoOVgTSrTrO1NCDUUZIHSJ+J+LLpX8qmA9a2R0X5xdHFO7Fq+3r9plnN06Z0Y8b7Yp494u+k/CpKpqsL3Odo/vPNtVqqldneoxZ3N2J6zq/A4M0V+XRPiPii0EK0z6j26TmNXrapBLN6e/tF2q3qMxct8zB+aajlD8Myllcjtx4FE1oNQKepV2vYHmejafWUtQo8uoP8ALPPKqCnYfK8Y0WobTn36RcpVotwjZ2Xifha1G8xTxyO88/8AH9AabMyLY83E9M0PiCautV7B7+te8S8d8JGqpGog+VxxOPNjeSNHp+h9U/T5U/Fnj7B9wY5/Q2hQj7cWuOhHWP63w2rpah3L8rDiLLRao3oUsfYXmKi4/tE9p5Y5KljlZ03gniF3Csbe/edrpqqkX63Fp53ptDqkqAqAv/le07Dw1K6UgarBmv2m34/tWkeX632W19nTaevhQRccmY1Wk+qqu1Sy6dLs5JzYRLTVc4JHSMav/C+KUG8MOrRKyKruA3qJ6ADqJ3wwxk/eeRLJJP3O18a02o02pB0iH6G4NqZJutuzdT3tH9Fq9yAFspg+8V8c8N1HhD6fS1KgejUBNFxfFumYDSsKdX0gBD1i4+224/BnKSckk/k6qnq7jBiL+IPU8Tp0t7U6Srvdk5OYOnXtF9c9Vd9XTW85EKkHqJjKbi7RooKSpjqayodY+nq1Q42l0I5te2YdNYyYv+c87pa/XUNcdTqKTVXKBfSPTaMa3X6qoiOqEIRn2MyeeN/Jp+K68Hf/AOFU0X/mH71lDqf94/KcHoNY9YlKlV1I7GNa3Wvp9OzI5Zji98iNYr8i/I/DOrOqJ5qY+Um6+d04XQ+I1GqgPUDH36zrNO5ZFJ6x/ia8h+RvwNBgJmUMLMLgytMGGlzLjhQpZHYk/htF2J2m5xyeJzPxB8N/W9K1NWIbFjbid3tlbXGZc8KmjOObizwfWeAV9NVZK1FlYHtMnr7aHTOdzUwSfcyZxv07+DqXql9nSmbMmTPZPIIy5kyIARlG4kyQAoQG5HPEFp6FKjUqPTQKzm7ETJkycIfJspNLTDXmVFVlKsLgyZI2IDZ7L6h6l4aJ0qIov1kyZhJI6YNh3Q7c9IoaZ8wt3Npkg+h/I0E/w0K3mI9gfiQ9fl2jpUa3Tm+N4HwH+b5SZMpxi0K5X2L6zw6lqqZR8A8EcicL4x4C2jLMg3J1t2kyZw5IRUqR6mLLPjbfQhp9K7m6VSp9jOh8L0WpBXdqmIkyRjgvBf5JyW2ddpdIu3dUYtbrG9FQSm2q1IXLhV3dwB/vJknWpM45RVHP/tL0G/Q6PxBBlHKt8j/2/WcT4dVbI9QBsPaei/HaLqfhTWBx8IDD2IM848PYu7BuBafReld4U2fPeoSWZpD+47bXkdiRb/aTJLkkRFlWp16Z3U9QxHZhcyfXta1lNUqOpUC8yTOJRTOr8kiU64RrtTZz1LHeT+cPX1yMgVUb7xMky/xxF+SQjSrLTqBlQG3edX4dq96hWS3F7GZJi4qx/kY8tTteGLgTJJrJInkyweVGTIhEaRMyTAZ//9k='); 
        }
        
        /* World 3: Ê•µÂú∞ÂÜ∞Âéü */
        .zone-3 { 
            top: 1400px; 
            /* ÂÖßÂµåÂúñÁâá‰ª£Á¢º */
            background-image: url('data:image/jpeg;base64,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'); 
        }
        
        /* World 4: ÁÜîÂ≤©ÁÅ´Â±± */
        .zone-4 { 
            top: 700px; 
            /* ÂÖßÂµåÂúñÁâá‰ª£Á¢º */
            background-image: url('data:image/jpeg;base64,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'); 
        }
        
        /* World 5: Ê©üÊ¢∞ÂüéÂ†° */
        .zone-5 { 
            top: 0px; 
            /* ÂÖßÂµåÂúñÁâá‰ª£Á¢º */
            background-image: url('data:image/jpeg;base64,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'); 
        }

        .zone-label {
            position: absolute; top: 30px; left: 30px; font-size: 2.2rem; font-weight: bold;
            color: rgba(255,255,255,0.95); text-transform: uppercase; letter-spacing: 3px;
            text-shadow: 3px 3px 10px rgba(0,0,0,1); pointer-events: none;
        }
        
        /* World 5 ÁöÑÂ≠óÂæÄ‰∏ãÁßªÔºåÈÅøÂÖçË¢´ HUD Êìã‰Ωè */
        .zone-5 .zone-label { top: 120px; }

        /* ÈóúÂç°ÁØÄÈªû */
        .level-node {
            position: absolute; width: 60px; height: 60px; border-radius: 50%;
            background: var(--locked); border: 3px solid rgba(255,255,255,0.6); left: 50%;
            display: flex; align-items: center; justify-content: center;
            font-weight: bold; font-size: 1.3rem; cursor: pointer; z-index: 10;
            box-shadow: 0 5px 20px rgba(0,0,0,0.8); transition: 0.2s;
            backdrop-filter: blur(5px);
        }
        .level-node.unlocked { background: var(--unlocked); animation: pulse 1.5s infinite; border-color: white; box-shadow: 0 0 25px var(--unlocked); }
        .level-node.cleared { background: var(--cleared); color: #333; border-color: #fff; }
        .level-node:active { transform: scale(0.9); }

        /* Ë∑ØÂæëÁ∑ö */
        #path-svg { position: absolute; top: 0; left: 0; width: 100%; height: 3500px; pointer-events: none; z-index: 5; }
        path { fill: none; stroke: rgba(255,255,255,0.8); stroke-width: 6; stroke-dasharray: 12; stroke-linecap: round; filter: drop-shadow(0 0 5px black); }

        /* === UI ‰ªãÈù¢ === */
        /* ÂàÜÁ¥öÈÅ∏ÊìáÈ†Å */
        .intro-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #111; z-index: 9999; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        .grade-btn { width: 80%; max-width: 300px; padding: 20px; margin: 10px; border: none; border-radius: 15px; font-size: 1.5rem; font-weight: bold; cursor: pointer; color: white; transition: 0.2s; box-shadow: 0 5px 0 rgba(0,0,0,0.5); }
        .grade-btn:active { transform: translateY(5px); box-shadow: none; }
        .g-low { background: #4caf50; } .g-mid { background: #ff9800; } .g-high { background: #f44336; }
        
        /* HUD */
        #hud { position: fixed; top: 0; left: 0; width: 100%; padding: 10px; background: rgba(0,0,0,0.8); backdrop-filter: blur(10px); z-index: 100; display: flex; justify-content: space-between; align-items: center; box-sizing: border-box; border-bottom: 1px solid #333; }
        .status-box { font-size: 0.9rem; display: flex; gap: 12px; color: #fff; align-items: center; }
        .item-icon { position: relative; font-size: 1.5rem; margin-right: 5px; cursor: pointer; transition: 0.2s; } 
        .item-icon:hover { transform: scale(1.1); }
        .item-count { position: absolute; bottom: -2px; right: -5px; background: #e74c3c; font-size: 0.7rem; padding: 2px 5px; border-radius: 10px; border:1px solid white; font-weight: bold; }
        .grade-badge { padding: 4px 10px; border-radius: 20px; font-weight: bold; font-size: 0.8rem; box-shadow: 0 2px 5px rgba(0,0,0,0.3); }

        /* Ë¶ñÁ™óÈÄöÁî® */
        .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); display: none; justify-content: center; align-items: center; z-index: 200; flex-direction: column; backdrop-filter: blur(5px); }
        .modal.active { display: flex; animation: fadeIn 0.3s; } @keyframes fadeIn { from{opacity:0} to{opacity:1} }
        
        /* ÈÅäÊà≤Èù¢Êùø */
        .game-board { background: #f5f5f5; color: #333; width: 90%; max-width: 450px; border-radius: 20px; padding: 25px; text-align: center; box-shadow: 0 10px 40px rgba(0,0,0,0.6); position: relative; }
        .game-content { min-height: 160px; display: flex; flex-direction: column; justify-content: center; align-items: center; font-size: 1.8rem; font-weight: bold; margin: 20px 0; color:#2c3e50; }
        .subj-tag { font-size: 0.9rem; background: #2c3e50; color: white; padding: 3px 10px; border-radius: 5px; margin-bottom: 10px; position: absolute; top: 20px; left: 20px; }
        
        .grid-options { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .opt-btn { padding: 15px; background: #3498db; color: white; border: none; border-radius: 12px; font-size: 1.2rem; cursor: pointer; font-weight:bold; box-shadow: 0 4px 0 #2980b9; transition:0.1s; } 
        .opt-btn:active{transform:translateY(4px); box-shadow:none;}

        /* ÊéíË°åÊ¶ú */
        .rank-tabs { display: flex; gap: 10px; margin-bottom: 15px; background:#ddd; padding:5px; border-radius:10px; }
        .rt-btn { flex: 1; padding: 10px; background: transparent; border: none; cursor: pointer; font-weight: bold; border-radius:8px; color:#777; transition:0.2s; }
        .rt-btn.active { background: #fff; color: #333; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .rank-row { display: flex; justify-content: space-between; padding: 12px 10px; border-bottom: 1px solid #ddd; font-size: 1rem; }
        .rank-row:nth-child(1) { color: #d35400; font-weight: bold; font-size: 1.1rem; border: 2px solid #f39c12; background: #fff8e1; border-radius: 8px; margin-bottom: 5px;}

        @keyframes pulse { 0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(41, 182, 246, 0.7); } 70% { transform: scale(1.1); box-shadow: 0 0 0 20px rgba(41, 182, 246, 0); } 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(41, 182, 246, 0); } }
    </style>
</head>
<body>

<div class="intro-modal" id="intro-screen">
    <h1 style="color:#fff; margin-bottom:10px; text-shadow:0 2px 10px rgba(0,0,0,0.8);">üöÄ ÂÇëÁâπ‰Ω©Â§ßÂÜíÈö™</h1>
    <p style="color:#aaa; margin-bottom:30px;">ÂÖ®ÁßëÊåëÊà∞ÔºéÊôÇÁ©∫Á©øË∂ä</p>
    <button class="grade-btn g-low" onclick="setGrade('low')">üë∂ ‰ΩéÂπ¥Á¥ö (1-2)</button>
    <button class="grade-btn g-mid" onclick="setGrade('mid')">üë¶ ‰∏≠Âπ¥Á¥ö (3-4)</button>
    <button class="grade-btn g-high" onclick="setGrade('high')">üßë‚Äçüéì È´òÂπ¥Á¥ö (5-6)</button>
</div>

<div id="hud" style="display:none;">
    <div class="status-box">
        <span id="grade-display" class="grade-badge"></span>
        <span>‚è±Ô∏è <span id="total-time">0</span>s</span>
    </div>
    <div class="status-box">
        <div class="item-icon" onclick="useItem('time')" title="ÊôÇÈñì-10s">‚è≥<span class="item-count" id="c-time">0</span></div>
        <div class="item-icon" onclick="useItem('shield')" title="ÊäµÊìã‰∏ÄÊ¨°ÈåØË™§">üõ°Ô∏è<span class="item-count" id="c-shield">0</span></div>
        <div class="item-icon" onclick="useItem('key')" title="Ë∑≥ÈÅéÊ≠§Èóú">üîë<span class="item-count" id="c-key">0</span></div>
    </div>
</div>

<div id="map-viewport">
    <div class="zone zone-5"><div class="zone-label">World 5: Ê©üÊ¢∞ÂüéÂ†°</div></div>
    <div class="zone zone-4"><div class="zone-label">World 4: ÁÜîÂ≤©ÁÅ´Â±±</div></div>
    <div class="zone zone-3"><div class="zone-label">World 3: Ê•µÂú∞ÂÜ∞Âéü</div></div>
    <div class="zone zone-2"><div class="zone-label">World 2: ÁÉàÊó•Ê≤ôÊº†</div></div>
    <div class="zone zone-1"><div class="zone-label">World 1: Ëø∑ÈúßÊ£ÆÊûó</div></div>
    <svg id="path-svg"><path id="map-path" d=""/></svg>
    <div id="nodes-container"></div>
</div>

<div class="modal" id="game-modal">
    <div class="game-board">
        <div style="display:flex; justify-content:space-between; font-weight:bold; font-size:1.2rem; margin-bottom:5px; padding-left: 50px;">
            <span id="lv-title">Level 1</span>
            <span id="q-timer" style="color:#e74c3c;">30s</span>
        </div>
        <div style="height:8px; background:#ddd; border-radius:4px; overflow:hidden; margin-bottom:10px;"><div id="t-bar" style="height:100%; width:100%; background:#e74c3c; transition:width 1s linear;"></div></div>
        
        <div class="game-content">
            <div id="subj-tag" class="subj-tag">ÁßëÁõÆ</div>
            <div id="q-content">È°åÁõÆËºâÂÖ•‰∏≠...</div>
        </div>
        
        <div class="grid-options" id="q-opts"></div>
        <div style="margin-top:25px; display:flex; justify-content:center; gap:15px; border-top:2px solid #eee; padding-top:20px;">
            <div class="item-icon" onclick="useItem('time')" style="color:#333;">‚è≥<span class="item-count" id="g-c-time">0</span></div>
            <div class="item-icon" onclick="useItem('shield')" style="color:#333;">üõ°Ô∏è<span class="item-count" id="g-c-shield">0</span></div>
            <div class="item-icon" onclick="useItem('key')" style="color:#333;">üîë<span class="item-count" id="g-c-key">0</span></div>
        </div>
    </div>
</div>

<div class="modal" id="win-modal">
    <div class="game-board">
        <h1 style="color:#27ae60; margin-top:0;">üèÜ ÊåëÊà∞ÊàêÂäüÔºÅ</h1>
        <p>Á≠âÁ¥öÔºö<span id="final-grade" style="font-weight:bold;"></span></p>
        <p>Á∏ΩËÄóÊôÇÔºö<span id="final-time" style="font-size:2.5rem; color:#e74c3c; font-weight:bold;"></span> Áßí</p>
        <input type="text" id="input-name" placeholder="Ëº∏ÂÖ•‰Ω†ÁöÑÂêçÂ≠ó (‰æã: 401Â∞èÊòé)" style="padding:12px; font-size:1.1rem; width:90%; border:2px solid #ddd; border-radius:8px; text-align:center;">
        <br><br>
        <button class="opt-btn" style="width:100%; background:#27ae60; box-shadow:0 4px 0 #219a52;" onclick="submitScore()">‰∏äÂÇ≥Ëã±ÈõÑÊ¶ú</button>
        <button class="opt-btn" style="width:100%; background:#7f8c8d; margin-top:15px; box-shadow:0 4px 0 #636e72;" onclick="location.reload()">ÂõûÈ¶ñÈ†ÅÈáçÁΩÆ</button>
    </div>
</div>

<div class="modal" id="rank-modal">
    <div class="game-board" style="max-height:80vh; overflow-y:auto; padding:0; background:#f9f9f9;">
        <div style="padding:20px; background:#2c3e50; color:white; border-radius:20px 20px 0 0;">
            <h2 style="margin:0;">üèÜ ÂÜíÈö™Ëã±ÈõÑÊ¶ú</h2>
        </div>
        <div style="padding:20px;">
            <div class="rank-tabs">
                <button class="rt-btn active" onclick="loadRank('low', this)">üë∂ ‰ΩéÂπ¥Á¥ö</button>
                <button class="rt-btn" onclick="loadRank('mid', this)">üë¶ ‰∏≠Âπ¥Á¥ö</button>
                <button class="rt-btn" onclick="loadRank('high', this)">üßë‚Äçüéì È´òÂπ¥Á¥ö</button>
            </div>
            <div id="rank-list" style="text-align:left; min-height:200px;">ËºâÂÖ•‰∏≠...</div>
            <button class="opt-btn" style="background:#7f8c8d; margin-top:20px; font-size:1rem; padding:12px; width:100%; box-shadow:0 4px 0 #636e72;" onclick="document.getElementById('rank-modal').classList.remove('active')">ÈóúÈñâ</button>
        </div>
    </div>
</div>

<style> body { padding-bottom: 80px !important; } #jetpay-navbar { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); width: 90%; max-width: 500px; height: 65px; background: rgba(255,255,255,0.95); backdrop-filter: blur(10px); border-radius: 50px; border: 1px solid #eee; display: flex; justify-content: space-around; align-items: center; box-shadow: 0 5px 20px rgba(0,0,0,0.2); z-index: 9999; } .nav-item { text-decoration: none; color: #95a5a6; font-size: 0.75rem; display: flex; flex-direction: column; align-items: center; transition: 0.2s; } .nav-icon { font-size: 1.6rem; margin-bottom: 2px; } .nav-item:hover { color: #2c3e50; transform: translateY(-2px); } .nav-item-special { color: #e67e22; font-weight: bold; } .nav-item-special .nav-icon { background: #e67e22; color: white; width: 45px; height: 45px; border-radius: 50%; display: flex; justify-content: center; align-items: center; box-shadow: 0 4px 10px rgba(230, 126, 34, 0.4); margin-top: -20px; border: 4px solid white; } </style>
<div id="jetpay-navbar">
    <a href="index.html" class="nav-item"><span class="nav-icon">üè†</span><span>È¶ñÈ†Å</span></a>
    <a href="simple_games.html" class="nav-item"><span class="nav-icon">üß©</span><span>Á∞°ÂñÆ</span></a>
    <a href="adventure_map.html" class="nav-item nav-item-special"><span class="nav-icon">üè∞</span><span>ÈóñÈóú</span></a>
    <a href="knowledge_games.html" class="nav-item"><span class="nav-icon">üìö</span><span>Áü•Ë≠ò</span></a>
    <a href="#" class="nav-item" onclick="openRank()"><span class="nav-icon">üèÜ</span><span>ÊéíË°å</span></a>
</div>

<script>
    // üî¥ üî¥ üî¥ Ë´ãÂú®‰∏ãÊñπË≤º‰∏äÊÇ® GAS (Apps Script) ÁöÑÁ∂≤ÂùÄ üî¥ üî¥ üî¥
    const API_URL = "https://script.google.com/macros/s/AKfycbwKUB2BPH1jD7ch2yenKSokuHq15ktPk1UfORI0RVNYVL6_oIBISNr27MX5Yng-7i-DqA/exec";

    const TOTAL_LEVELS = 30;
    let state = { grade: 'mid', level: 1, items: { time: 2, shield: 2, key: 1 }, totalTime: 0, timer: null, inGame: false, shieldOn: false };

    // ÂÖ®ÁßëÈ°åÂ∫´ (Âúã/Ëã±/Êï∏/Á§æ/Ëá™) - ÂåÖÂê´‰∏âÁ®ÆÈõ£Â∫¶
    const DB = {
        low: [
            {t:"Êï∏Â≠∏", q:"5 + 8 = ?", a:"13", o:["13","12","14","15"]},
            {t:"Êï∏Â≠∏", q:"20 - 7 = ?", a:"13", o:["13","12","11","10"]},
            {t:"Êï∏Â≠∏", q:"3ÂÄã5ÊòØÂ§öÂ∞ë?", a:"15", o:["15","10","20","12"]},
            {t:"ÁîüÊ¥ª", q:"Á¥ÖÁáà‰ª£Ë°®‰ªÄÈ∫º?", a:"ÂÅúÊ≠¢", o:["ÂÅúÊ≠¢","ÂâçÈÄ≤","Ë∑≥Ëàû","Âî±Ê≠å"]},
            {t:"ÁîüÊ¥ª", q:"ÈÅéÈ¶¨Ë∑ØË¶ÅËµ∞?", a:"ÊñëÈ¶¨Á∑ö", o:["ÊñëÈ¶¨Á∑ö","Âø´ËªäÈÅì","Â±ãÈ†Ç","Ê∞¥Ê∫ù"]},
            {t:"ÂúãË™û", q:"„ÄåÊó©„ÄçÁöÑÈÉ®È¶ñ?", a:"Êó•", o:["Êó•","ÂçÅ","Âè£","Ëçâ"]},
            {t:"ÂúãË™û", q:"„ÄåËä±„ÄçÁöÑÈÉ®È¶ñ?", a:"Ëâ∏", o:["Ëâ∏","Âåñ","‰∫∫","Êú®"]},
            {t:"Ëã±Êñá", q:"Red ÊòØ‰ªÄÈ∫ºËâ≤?", a:"Á¥ÖËâ≤", o:["Á¥ÖËâ≤","ËóçËâ≤","Á∂†Ëâ≤","ÈªÉËâ≤"]},
            {t:"Ëã±Êñá", q:"Cat ÊòØ‰ªÄÈ∫º?", a:"Ë≤ì", o:["Ë≤ì","Áãó","Ë±¨","È≥•"]},
            {t:"Ëá™ÁÑ∂", q:"Â§™ÈôΩÂæûÂì™ÈÇäÂá∫‰æÜ?", a:"Êù±ÈÇä", o:["Êù±ÈÇä","Ë•øÈÇä","ÂåóÈÇä","ÂçóÈÇä"]}
        ],
        mid: [
            {t:"Êï∏Â≠∏", q:"8 x 7 = ?", a:"56", o:["56","48","64","54"]},
            {t:"Êï∏Â≠∏", q:"45 √∑ 5 = ?", a:"9", o:["9","8","7","6"]},
            {t:"Êï∏Â≠∏", q:"1ÂÖ¨Èáå = ? ÂÖ¨Â∞∫", a:"1000", o:["1000","100","10","10000"]},
            {t:"Á§æÊúÉ", q:"ÊàëÂÄë‰ΩèÂú®Âì™Ë£°?", a:"Âè∞ÁÅ£", o:["Âè∞ÁÅ£","ÁæéÂúã","Êó•Êú¨","Ê≥ïÂúã"]},
            {t:"Á§æÊúÉ", q:"Á´ØÂçàÁØÄÂêÉ‰ªÄÈ∫º?", a:"Á≤ΩÂ≠ê", o:["Á≤ΩÂ≠ê","ÊúàÈ§Ö","ÊπØÂúì","ËõãÁ≥ï"]},
            {t:"ÂúãË™û", q:"ÊàêË™û:‰∏Ä__È©ö‰∫∫", a:"È≥¥", o:["È≥¥","Âêç","Ê∞ë","Êòé"]},
            {t:"ÂúãË™û", q:"ÂÆàÊ†™ÂæÖ__?", a:"ÂÖî", o:["ÂÖî","Ëôé","Ë±¨","Èæç"]},
            {t:"Ëá™ÁÑ∂", q:"Á£ÅÈêµËÉΩÂê∏‰ªÄÈ∫º?", a:"ÈêµÈáò", o:["ÈêµÈáò","Â°ëËÜ†","Êú®È†≠","Á¥ô"]},
            {t:"Ëá™ÁÑ∂", q:"ÈùíËõôÂ∞èÊôÇÂÄôÊòØ?", a:"ËùåËö™", o:["ËùåËö™","ÊØõÊØõËü≤","Â∞èÈ≠ö","ÈõûËõã"]},
            {t:"Ëã±Êñá", q:"Thank you ÊòØ?", a:"Ë¨ùË¨ù", o:["Ë¨ùË¨ù","Â∞ç‰∏çËµ∑","ÂÜçË¶ã","‰Ω†Â•Ω"]}
        ],
        high: [
            {t:"Êï∏Â≠∏", q:"25 x 4 + 10 = ?", a:"110", o:["110","100","90","120"]},
            {t:"Êï∏Â≠∏", q:"0.5 + 0.8 = ?", a:"1.3", o:["1.3","1.2","0.13","13"]},
            {t:"Êï∏Â≠∏", q:"‰∏âËßíÂΩ¢ÂÖßËßíÂíå?", a:"180Â∫¶", o:["180Â∫¶","360Â∫¶","90Â∫¶","100Â∫¶"]},
            {t:"Á§æÊúÉ", q:"Âè∞ÁÅ£ÊúÄÈ´òÁöÑÂ±±?", a:"ÁéâÂ±±", o:["ÁéâÂ±±","ÈòøÈáåÂ±±","Èõ™Â±±","ÈôΩÊòéÂ±±"]},
            {t:"Á§æÊúÉ", q:"Âì™ÂÄãÊòØÁõ¥ËΩÑÂ∏Ç?", a:"È´òÈõÑÂ∏Ç", o:["È´òÈõÑÂ∏Ç","Âü∫ÈöÜÂ∏Ç","Êñ∞Á´πÂ∏Ç","ÂòâÁæ©Â∏Ç"]},
            {t:"Ëá™ÁÑ∂", q:"Ê§çÁâ©Ë£ΩÈÄ†È§äÂàÜ?", a:"ÂÖâÂêà‰ΩúÁî®", o:["ÂÖâÂêà‰ΩúÁî®","ÂëºÂê∏‰ΩúÁî®","Ëí∏Êï£‰ΩúÁî®","Ê∂àÂåñ‰ΩúÁî®"]},
            {t:"Ëá™ÁÑ∂", q:"Êúà‰∫ÆÁπûËëóË™∞ËΩâ?", a:"Âú∞ÁêÉ", o:["Âú∞ÁêÉ","Â§™ÈôΩ","ÁÅ´Êòü","ÈáëÊòü"]},
            {t:"ÂúãË™û", q:"Âì™ÂÄãÂ≠óÊúâÈåØ?", a:"ÂÜçÊé•ÂÜçÂãµ", o:["ÂÜçÊé•ÂÜçÂãµ","ÂÜçÊé•ÂÜçÂé≤","Èç•ËÄå‰∏çÊç®","Â†ÖÊåÅÂà∞Â∫ï"]}, // Âé≤ÊâçÂ∞ç
            {t:"Ëã±Êñá", q:"Library ÊòØ?", a:"ÂúñÊõ∏È§®", o:["ÂúñÊõ∏È§®","Â≠∏Ê†°","ÂÖ¨Âúí","ÈÜ´Èô¢"]},
            {t:"Ëã±Êñá", q:"Delicious ÊòØ?", a:"ÁæéÂë≥ÁöÑ", o:["ÁæéÂë≥ÁöÑ","Âç±Èö™ÁöÑ","ÁîüÊ∞£ÁöÑ","Âø´Ê®ÇÁöÑ"]}
        ]
    };

    function setGrade(g) {
        state.grade = g;
        document.getElementById('intro-screen').style.display = 'none';
        document.getElementById('hud').style.display = 'flex';
        const map = {'low':'üë∂ ‰ΩéÂπ¥Á¥ö','mid':'üë¶ ‰∏≠Âπ¥Á¥ö','high':'üßë‚Äçüéì È´òÂπ¥Á¥ö'};
        const color = {'low':'#4caf50','mid':'#ff9800','high':'#f44336'};
        document.getElementById('grade-display').innerText = map[g];
        document.getElementById('grade-display').style.background = color[g];
        loadProgress(g); renderMap(); updateHUD();
        setTimeout(() => { const c = document.querySelector('.level-node.unlocked'); if(c) c.scrollIntoView({block:"center",behavior:"smooth"}); }, 500);
    }

    function renderMap() {
        const con = document.getElementById('nodes-container'); con.innerHTML = '';
        let d = "M 50% 3500";
        for(let i=1; i<=TOTAL_LEVELS; i++) {
            let y = 3500 - (i*110); let x = 50 + Math.sin(i)*30; d += ` L ${x}% ${y}`;
            const n = document.createElement('div');
            n.className = `level-node ${i<state.level?'cleared':(i==state.level?'unlocked':'')}`;
            n.style.left = `calc(${x}% - 30px)`; n.style.top = `${y}px`; n.innerText = i;
            if(i <= state.level) n.onclick = () => startLevel(i);
            con.appendChild(n);
        }
        document.getElementById('map-path').setAttribute('d', d.replace(/50%/g, window.innerWidth/2));
    }

    function startLevel(lv) {
        if(lv > state.level) return;
        state.inGame = true; state.shieldOn = false;
        document.getElementById('game-modal').classList.add('active');
        document.getElementById('lv-title').innerText = `Level ${lv}`;
        genQuestion(lv);
        let t = 30; document.getElementById('q-timer').innerText = t+"s";
        if(state.timer) clearInterval(state.timer);
        state.timer = setInterval(() => {
            t--; state.totalTime++;
            document.getElementById('q-timer').innerText = t+"s";
            document.getElementById('t-bar').style.width = (t/30*100)+"%";
            document.getElementById('total-time').innerText = state.totalTime;
            if(t<=0) gameOver();
        }, 1000);
        updateGameItemCount();
    }

    function genQuestion(lv) {
        const r = (min,max) => Math.floor(Math.random()*(max-min+1))+min;
        let pool = DB[state.grade] || DB['mid'];
        
        let qData;
        if(lv % 3 === 0) {
            // ÊØè3ÈóúÂº∑Âà∂Êï∏Â≠∏ (Â¢ûÂä†ÈÅãÁÆóÁ∑¥Áøí)
             if(state.grade === 'low') { let n1=r(1,10), n2=r(1,9); qData={t:"Êï∏Â≠∏", q:`${n1} + ${n2} = ?`, a:n1+n2, o:[n1+n2, n1+n2+1, n1+n2-1, n1+n2+2]}; }
             else if(state.grade === 'mid') { let n1=r(2,9), n2=r(2,9); qData={t:"Êï∏Â≠∏", q:`${n1} √ó ${n2} = ?`, a:n1*n2, o:[n1*n2, n1*n2+10, n1*n2-5, n1*n2+1]}; }
             else { let n1=r(11,20), n2=r(2,9); qData={t:"Êï∏Â≠∏", q:`${n1} √ó ${n2} = ?`, a:n1*n2, o:[n1*n2, n1*n2+10, n1*n2-10, n1*n2+2]}; }
        } else {
            qData = pool[Math.floor(Math.random() * pool.length)];
        }

        document.getElementById('subj-tag').innerText = qData.t;
        document.getElementById('q-content').innerText = qData.q;
        
        const optsDiv = document.getElementById('q-opts'); optsDiv.innerHTML = '';
        let opts = qData.o.map(String); 
        opts.sort(()=>0.5-Math.random()).forEach(o => {
            const b = document.createElement('button'); b.className='opt-btn'; b.innerText=o;
            b.onclick = () => checkAns(o, qData.a); optsDiv.appendChild(b);
        });
    }

    function checkAns(ans, correct) {
        if(!state.inGame) return;
        if(String(ans) === String(correct)) { winLevel(); }
        else {
            if(state.shieldOn) { alert("üõ°Ô∏è Ë≠∑ÁõæÁîüÊïàÔºÅÊäµÊìã‰∏ÄÊ¨°ÈåØË™§ÔºÅ"); state.shieldOn=false; }
            else { alert("‚ùå Á≠îÈåØ +5ÁßíÔºÅ"); state.totalTime+=5; }
            updateHUD();
        }
    }

    function winLevel() {
        clearInterval(state.timer); state.inGame = false;
        document.getElementById('game-modal').classList.remove('active');
        if(state.level % 5 === 0) {
            let gift = ['time','shield','key'][Math.floor(Math.random()*3)];
            state.items[gift]++; alert(`üéÅ ÈÄöÈÅé BOSS ÈóúÂç°ÔºÅÁç≤ÂæóÈÅìÂÖ∑Ôºö${gift === 'time'?'Ê≤ôÊºè':(gift==='shield'?'Ë≠∑Áõæ':'Èë∞Âåô')}`);
        }
        if(state.level < TOTAL_LEVELS) { state.level++; saveProgress(state.grade); renderMap(); setTimeout(() => { document.querySelector('.level-node.unlocked').scrollIntoView({block:"center",behavior:"smooth"}); }, 300); }
        else { gameWin(); }
        updateHUD();
    }

    function gameOver() { clearInterval(state.timer); state.inGame=false; alert("üíÄ ÊôÇÈñìÂà∞ÔºÅÊåëÊà∞Â§±ÊïóÔºÅ"); document.getElementById('game-modal').classList.remove('active'); }
    function gameWin() { document.getElementById('win-modal').classList.add('active'); document.getElementById('final-time').innerText = state.totalTime; document.getElementById('final-grade').innerText = document.getElementById('grade-display').innerText; }

    function useItem(type) {
        if(!state.inGame && type !== 'key') return; 
        if(state.items[type]>0) {
            state.items[type]--;
            if(type==='time') { state.totalTime = Math.max(0, state.totalTime-10); alert("‚è≥ ÊôÇÈñì -10Áßí"); }
            if(type==='shield') { state.shieldOn=true; alert("üõ°Ô∏è Ë≠∑ÁõæÈñãÂïü"); }
            if(type==='key') { if(state.inGame) winLevel(); else alert("Ë´ãÂú®ÈóúÂç°‰∏≠‰ΩøÁî®"); }
            updateHUD(); updateGameItemCount(); saveProgress(state.grade);
        } else { alert("ÈÅìÂÖ∑‰∏çË∂≥"); }
    }
    
    function updateHUD() {
        document.getElementById('c-time').innerText = state.items.time; document.getElementById('c-shield').innerText = state.items.shield; document.getElementById('c-key').innerText = state.items.key;
        document.getElementById('total-time').innerText = state.totalTime;
    }
    function updateGameItemCount() {
        document.getElementById('g-c-time').innerText = state.items.time; document.getElementById('g-c-shield').innerText = state.items.shield; document.getElementById('g-c-key').innerText = state.items.key;
    }

    function saveProgress(g) { localStorage.setItem('adv_save_v27_1_' + g, JSON.stringify({ level: state.level, items: state.items, time: state.totalTime })); }
    function loadProgress(g) {
        const s = localStorage.getItem('adv_save_v27_1_' + g);
        if(s) { const d = JSON.parse(s); state.level = d.level; state.items = d.items; state.totalTime = d.time; }
        else { state.level = 1; state.items = {time:2,shield:2,key:1}; state.totalTime = 0; }
    }

    function submitScore() {
        const n = document.getElementById('input-name').value.trim();
        if(!n) { alert("Ë´ãËº∏ÂÖ•ÂêçÂ≠ó"); return; }
        fetch(API_URL, { method:'POST', body:JSON.stringify({type:'record', name:n, time:state.totalTime, grade:state.grade}), headers:{"Content-Type":"text/plain"} })
        .then(r=>r.json()).then(d=>{ alert("‚úÖ ‰∏äÂÇ≥ÊàêÂäü"); location.reload(); }).catch(e=>{ alert("‰∏äÂÇ≥Â§±ÊïóÔºåË´ãÊ™¢Êü• GAS Á∂≤ÂùÄËàáÁ∂≤Ë∑Ø"); });
    }

    function openRank() { document.getElementById('rank-modal').classList.add('active'); loadRank(state.grade); }
    function loadRank(grade, btn) {
        if(btn) { document.querySelectorAll('.rt-btn').forEach(b=>b.classList.remove('active')); btn.classList.add('active'); }
        const div = document.getElementById('rank-list'); div.innerHTML = '<div style="text-align:center;">ËºâÂÖ•‰∏≠...</div>';
        fetch(API_URL + `?action=getRank&grade=${grade}`).then(r=>r.json()).then(d=>{
            div.innerHTML = ""; if(d.length==0) div.innerHTML = '<div style="text-align:center;">Â∞öÁÑ°Á¥ÄÈåÑÔºåÂø´‰æÜÊê∂Á¨¨‰∏ÄÔºÅ</div>';
            d.slice(0,10).forEach((row,i) => {
                let medal = i===0?'ü•á':(i===1?'ü•à':(i===2?'ü•â':(i+1+'.')));
                div.innerHTML += `<div class="rank-row"><span>${medal} ${row.name}</span><span>${row.time}s</span></div>`;
            });
        }).catch(e=>{ div.innerHTML = "ËºâÂÖ•Â§±Êïó"; });
    }
</script>
</body>
</html>